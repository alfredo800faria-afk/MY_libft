# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: srusso-b <srusso-b@student.42lis.com>      +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2025/10/22 10:05:08 by srusso-b          #+#    #+#              #
#    Updated: 2025/10/22 10:05:27 by srusso-b         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

####################################################
## COLORS

SHELL					= /usr/bin/env bash

FGreen					= ${shell echo -e "\033[1;32m"}
RESET					= ${shell echo -e "\033[0m"}
TICK					= ${shell echo -e "\xE2\x9c\x94"}

#####################################################
## ARGUMENTS

NAME					= ban #libft.a
HEADER					= libft.h
#INCLUDE				= -Iincludes -Ilibft
CFLAGS					= -Wall -Wextra -Werror
CC						= cc
GDB						= -g3

#####################################################
## SOURCES

SRC_FILES				= main.c ft_isalpha.c ft_isdigit.c ft_isalnum.c \
						  ft_isascii.c ft_isprint.c ft_tolower.c ft_toupper.c \
						  ft_strlen.c ft_atoi.c
#SRC_FILES_BONUS		= 
OBJ_FILES				= ${SRC_FILES:.c=.o}
OBJ_FILES_BONUS			= ${SRC_FILES_BONUS:.c=.o}

#####################################################
## RULES

all: ${NAME} 

#-----------------------------Create a.out--------------
${NAME}: ${OBJ_FILES}
	@echo -n "Create file ${NAME} en process..."
	@${CC} ${OBJ_FILES} -o ${NAME}
	@echo -e "\b\b\b${FGreen} [$(TICK)] Finish ${RESET}" 

#-----------------------------Create libft.a------------

#${NAME}: ${OBJ_FILES}
#	@echo -n "Création de la librairie ${NAME} en cours"
#	@ar -rcs ${NAME} ${OBJ_FILES}
#	@echo -e "\b\b\b${FGreen} [$(TICK)] Crée ${RESET}" 

#bonus: ${OBJ_FILES_BONUS} ${OBJ_FILES}
#	@echo -n "Ajout des ojects bonus à  ${NAME}"
#	@ar -rcs ${NAME} ${OBJ_FILES_BONUS}
#	@echo -e "\b\b\b${FGreen} [$(TICK)] Bonus ajoutés ${RESET}" 
#
#---------Compilation files .c into .o (Rule implicite)----
#
#%.o: %.c
#	@echo -n "Compilation from $<" 
#	@${CC} ${CFLAGS} -c $< -o $@
#	@echo -e "\b\b\b${FGreen} [$(TICK)] Compile Finish ${RESET}" 
#
%.o: %.c ${HEADER}
	@echo -n "Compile files Object $<"
	@${CC} -c $(GDB) ${CFLAGS} $<
	@echo -e "\b\b\b${FGreen} [${TICK}] Compile Finish ${RESET}" 

clean:
	rm -rf ${OBJ_FILES} ${OBJ_FILES_BONUS}

fclean: clean
	rm -rf ${NAME}

re: fclean all

.PHONY: all clean fclean re bonus
